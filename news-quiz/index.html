<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Nebraskan News Quiz</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load Google Fonts (Bebas Neue for headlines, Source Sans Pro for body) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Load Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <!-- Set base font and custom headline font -->
    <style>
        body {
            /* Use Source Sans Pro as the default body font */
            font-family: 'Source Sans Pro', sans-serif;
        }
        
        /* Custom class for Bebas Neue headlines */
        .font-headline {
            font-family: 'Bebas Neue', sans-serif;
            /* Add some letter spacing to make Bebas Neue more readable */
            letter-spacing: 0.05em;
        }

        /* Custom styles for feedback */
        .answer-btn.correct {
            background-color: #d1fae5; /* green-100 */
            border-color: #6ee7b7; /* green-300 */
            color: #065f46; /* green-800 */
            font-weight: 600;
        }
        .answer-btn.wrong {
            background-color: #fee2e2; /* red-100 */
            border-color: #fca5a5; /* red-300 */
            color: #991b1b; /* red-800 */
            font-weight: 600;
        }
        .answer-btn.disabled {
            opacity: 0.7;
            pointer-events: none;
        }
        /* Ensure consistent height to avoid layout jump */
        #question-text {
            min-height: 5rem; /* Adjust as needed */
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <!-- Main Quiz Container -->
    <div id="quiz-container" class="bg-white w-full max-w-2xl rounded-xl shadow-2xl p-6 md:p-10">
        
        <!-- Header -->
        <div class="text-center mb-6">
            <!-- Apply headline font to main title, increase size -->
            <h1 class="font-headline text-5xl md:text-6xl font-bold text-gray-900">Daily Nebraskan</h1>
            <!-- Apply headline font to subtitle -->
            <p class="font-headline text-3xl font-light text-red-700">Recent News Quiz</p>
        </div>

        <!-- Quiz Area (shown during quiz) -->
        <div id="quiz-area">
            <div class="mb-6">
                <!-- Progress Indicator -->
                <div id="progress-text" class="text-sm font-semibold text-red-700 mb-2 text-center uppercase">
                    Question 1 of 5
                </div>
                <!-- Question Text (uses body font) -->
                <h2 id="question-text" class="text-xl md:text-2xl font-semibold text-gray-900 text-center">
                    Loading question...
                </h2>
            </div>
            
            <!-- Answer Options -->
            <div id="answer-options" class_="flex flex-col space-y-3">
                <!-- Answer buttons will be generated by JS here -->
            </div>

            <!-- Feedback Text -->
            <div id="feedback-text" class="text-center font-semibold mt-4 min-h-[1.5rem]">
                <!-- "Correct!" or "Wrong!" will appear here -->
            </div>

            <!-- Next Button (hidden by default) -->
            <button id="next-btn" class="hidden w-full bg-red-700 text-white font-bold py-3 px-6 rounded-lg hover:bg-red-800 transition-colors duration-200 mt-6 text-lg">
                Next
            </button>
        </div>

        <!-- Results Area (hidden by default) -->
        <div id="results-area" class="hidden text-center">
            <!-- Apply headline font to results header -->
            <h2 class="font-headline text-4xl font-bold mb-4">Quiz Complete!</h2>
            <!-- Apply headline font to score -->
            <p id="score-text" class="font-headline text-5xl font-bold text-red-700 mb-2">You scored 0 out of 5</p>
            <p id="score-message" class="text-lg text-gray-600 mb-8">
                <!-- A message based on the score will appear here -->
            </p>
            <button id="restart-btn" class="w-full bg-gray-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-900 transition-colors duration-200 text-lg">
                Try Again
            </button>
        </div>
    </div>

    <script>
        // --- 1. QUIZ DATA ---
        // The JSON data you provided is embedded here.
        const allQuestionsData = {
          "quizQuestions": [
            { "id": 1, "category": "UNL Budget Cuts Quiz", "questionType": "True/False", "questionText": "Faculty and staff organized a “Stop the Cuts” rally to be held during the UNL football game against Iowa.", "options": ["True", "False"], "answer": "False" },
            { "id": 2, "category": "UNL Budget Cuts Quiz", "questionType": "Multiple Choice", "questionText": "Chancellor Rodney Bennett’s proposed plan aims to cut how much from the budget?", "options": ["a) $7.7 million", "b) $75 million", "c) $14.3 million", "d) $27.5 million"], "answer": "d) $27.5 million" },
            // ... (rest of the questions are unchanged) ...
            { "id": 3, "category": "UNL Budget Cuts Quiz", "questionType": "True/False", "questionText": "The “Stop the Cuts” rally and petition drive was scheduled to take place at the Nebraska Union Plaza.", "options": ["True", "False"], "answer": "True" },
            { "id": 4, "category": "UNL Budget Cuts Quiz", "questionType": "Multiple Choice", "questionText": "Which of the following programs was *not* listed among the six proposed for elimination?", "options": ["a) Landscape Architecture", "b) Statistics", "c) Entomology", "d) Earth and Atmospheric Sciences"], "answer": "c) Entomology" },
            { "id": 5, "category": "UNL Budget Cuts Quiz", "questionType": "True/False", "questionText": "According to Executive Vice Chancellor Mark Button, 635 students are currently enrolled in the programs proposed for elimination.", "options": ["True", "False"], "answer": "True" },
            { "id": 6, "category": "UNL Budget Cuts Quiz", "questionType": "Multiple Choice", "questionText": "Over the last five years, UNL's net tuition dollars have...", "options": ["a) Increased by 6.1%", "b) Decreased by 6.1%", "c) Stayed flat due to a tuition freeze", "d) Decreased by 8%"], "answer": "b) Decreased by 6.1%" },
            { "id": 7, "category": "UNL Budget Cuts Quiz", "questionType": "True/False", "questionText": "Between fall 2017 and fall 2024, UNL’s total student enrollment dropped by 8%, while the number of international students decreased by 42.7%.", "options": ["True", "False"], "answer": "True" },
            { "id": 8, "category": "UNL Budget Cuts Quiz", "questionType": "Multiple Choice", "questionText": "The NU Board of Regents implemented a tuition freeze for which school years?", "options": ["a) 2017-18 and 2018-19", "b) 2019-20 and 2020-21", "c) 2021-22 and 2022-23", "d) 2023-24 and 2024-25"], "answer": "c) 2021-22 and 2022-23" },
            { "id": 9, "category": "UNL Budget Cuts Quiz", "questionType": "True/False", "questionText": "Governor Jim Pillen initially proposed cutting the university's funding by about 2%, or $14.3 million.", "options": ["True", "False"], "answer": "True" },
            { "id": 10, "category": "UNL Budget Cuts Quiz", "questionType": "True/False", "questionText": "To save money, UNL offered faculty and staff a one-time bonus this year instead of a permanent pay raise.", "options": ["True", "False"], "answer": "False" },
            { "id": 11, "category": "Campus Crime Quiz", "questionType": "Multiple Choice", "questionText": "In the shoplifting case at the Nebraska Union Herbies Market, who was ultimately cited by police?", "options": ["a) The student who scanned their card", "b) The non-student who followed the student in", "c) Both the student and the non-student", "d) The Herbies Market manager"], "answer": "b) The non-student who followed the student in" },
            { "id": 12, "category": "Campus Crime Quiz", "questionType": "True/False", "questionText": "A 40-year-old female driver was cited for, among other things, refusing a breathalyzer test and negligent driving near N. 24th and Y street.", "options": ["True", "False"], "answer": "True" },
            { "id": 13, "category": "Campus Crime Quiz", "questionType": "Multiple Choice", "questionText": "In a joint case with the Lincoln Police Department, a non-student was arrested after LPD discovered the car they were driving was...", "options": ["a) Stolen", "b) Speeding", "c) Involved in a narcotics case", "d) Parked facing the wrong way"], "answer": "a) Stolen" },
            { "id": 14, "category": "Campus Crime Quiz", "questionType": "True/False", "questionText": "Juveniles were investigated for throwing water bottles off the top of the 19th and Vine parking garage, causing damage to a car.", "options": ["True", "False"], "answer": "True" },
            { "id": 15, "category": "Campus Crime Quiz", "questionType": "True/False", "questionText": "A UNL student was arrested for repeatedly calling Varner Hall, the Office of the President, about the budget cuts.", "options": ["True", "False"], "answer": "False" },
            { "id": 16, "category": "Earth & Atmospheric Sciences Quiz", "questionType": "Multiple Choice", "questionText": "The proposed elimination of the Earth and Atmospheric Sciences department is estimated to save the university how much?", "options": ["a) $325,000", "b) $1.85 million", "c) $7.7 million", "d) $27.5 million"], "answer": "b) $1.85 million" },
            { "id": 17, "category": "Earth & Atmospheric Sciences Quiz", "questionType": "True/False", "questionText": "University administration stated that THE Earth and Atmospheric Sciences department was \"one of the lower-performing units\" based on UNL metric analysis.", "options": ["True", "False"], "answer": "True" },
            { "id": 18, "category": "Earth & Atmospheric Sciences Quiz", "questionType": "Multiple Choice", "questionText": "Department chairperson Clint Rowe argued that a \"vital metric\" was *not* used in the decision, which was:", "options": ["a) Job placement statistics", "b) The Scholarly Research Index", "c) Graduate student enrollment", "d) State-aided graduate assistantship funding"], "answer": "a) Job placement statistics" },
            { "id": 19, "category": "Earth & Atmospheric Sciences Quiz", "questionType": "True/False", "questionText": "Professor Adam Houston raised concerns about a \"brain drain\" because UNL has the only accredited Atmospheric Science degree program in the state.", "options": ["True", "False"], "answer": "True" },
            { "id": 20, "category": "Earth & Atmospheric Sciences Quiz", "questionType": "Multiple Choice", "questionText": "According to the articles, UNL is the only university in Nebraska that offers the required programming for students to be eligible for employment with what organization?", "options": ["a) The U.S. Geological Survey", "b) The National Weather Service", "c) The Federal Emergency Management Agency (FEMA)", "d) The American Association of University Professors"], "answer": "b) The National Weather Service" }
          ]
        };

        // --- 2. DOM ELEMENTS ---
        const quizArea = document.getElementById('quiz-area');
        // ... (rest of DOM elements are unchanged) ...
        const resultsArea = document.getElementById('results-area');
        
        const progressText = document.getElementById('progress-text');
        const questionText = document.getElementById('question-text');
        const answerOptions = document.getElementById('answer-options');
        const feedbackText = document.getElementById('feedback-text');
        
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        
        const scoreText = document.getElementById('score-text');
        const scoreMessage = document.getElementById('score-message');

        // --- 3. QUIZ STATE ---
        let allQuestions = [];
        // ... (rest of quiz state is unchanged) ...
        let quizQuestions = []; // The 5 random questions for this round
        let currentQuestionIndex = 0;
        let score = 0;

        // --- 4. CORE FUNCTIONS ---

        /**
         * Starts a new quiz.
         * Shuffles questions, selects 5, resets state, and shows first question.
         */
        function startQuiz() {
            // Reset state
            allQuestions = [...allQuestionsData.quizQuestions];
            currentQuestionIndex = 0;
            score = 0;
            
            // Shuffle and pick 5 questions
            quizQuestions = shuffleArray(allQuestions).slice(0, 5);

            // Reset UI
            resultsArea.classList.add('hidden');
            quizArea.classList.remove('hidden');
            nextBtn.classList.add('hidden');

            // Display the first question
            displayQuestion();
        }

        /**
         * Displays the current question and answer options.
         */
        function displayQuestion() {
            // Clear previous feedback
            feedbackText.textContent = '';

            // Get the current question object
            const question = quizQuestions[currentQuestionIndex];
            
            // Update UI text
            progressText.textContent = `Question ${currentQuestionIndex + 1} of 5`;
            questionText.textContent = question.questionText;

            // Clear old answer buttons
            answerOptions.innerHTML = '';

            // Create a new button for each option
            question.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                // Use new body font, slightly heavier on hover
                button.className = 'answer-btn block w-full text-left p-4 mb-3 bg-gray-50 border border-gray-300 rounded-lg hover:bg-gray-100 hover:font-semibold focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-150';
                
                // Add click event listener to check the answer
                button.addEventListener('click', () => selectAnswer(option, question.answer, button));
                
                answerOptions.appendChild(button);
            });
        }

        /**
         * Handles the user clicking an answer.
         * Checks if correct, provides feedback, and updates score.
         */
        function selectAnswer(selectedOption, correctAnswer, selectedButton) {
            const isCorrect = (selectedOption === correctAnswer);

            // Disable all answer buttons
            Array.from(answerOptions.children).forEach(btn => {
                btn.disabled = true;
                btn.classList.add('disabled');
                
                // Show the correct answer
                if (btn.textContent === correctAnswer) {
                    btn.classList.add('correct');
                }
            });

            // Mark the selected answer
            if (isCorrect) {
                score++;
                selectedButton.classList.add('correct');
                feedbackText.textContent = "Correct!";
                feedbackText.className = 'text-center text-green-600 font-semibold mt-4 min-h-[1.5rem]';
            } else {
                selectedButton.classList.add('wrong');
                feedbackText.textContent = `Wrong. The correct answer was: ${correctAnswer}`;
                feedbackText.className = 'text-center text-red-600 font-semibold mt-4 min-h-[1.5rem]';
            }

            // Show the 'Next' button
            nextBtn.classList.remove('hidden');
        }

        /**
         * Moves to the next question or shows results if quiz is over.
         */
        function handleNextQuestion() {
            currentQuestionIndex++;

            if (currentQuestionIndex < quizQuestions.length) {
                // If there are more questions, display the next one
                displayQuestion();
                nextBtn.classList.add('hidden'); // Hide 'Next' button again
            } else {
                // If the quiz is over, show the results
                showResults();
            }
        }

        /**
         * Displays the final score and a message.
         */
        function showResults() {
            // Hide quiz, show results
            quizArea.classList.add('hidden');
            resultsArea.classList.remove('hidden');

            // Display score
            scoreText.textContent = `You scored ${score} out of 5`;

            // Display appropriate message
            let message = '';
            if (score === 5) {
                message = "Perfect score! You really know your UNL news.";
            } else if (score >= 3) {
                message = "Great job! You've been paying attention.";
            } else {
                message = "Not bad! Keep reading the Daily Nebraskan to stay up-to-date.";
            }
            scoreMessage.textContent = message;

            // --- Fire Confetti ---
            // Check if the confetti function exists (in case CDN fails)
            if (typeof confetti === 'function') {
                // A little burst from the center
                confetti({
                    particleCount: 150,
                    spread: 70,
                    origin: { y: 0.6 }
                });
                
                // And some from the sides
                confetti({
                    particleCount: 50,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 }
                });
                confetti({
                    particleCount: 50,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 }
                });
            }
            // --- End Confetti ---
        }

        // --- 5. UTILITY FUNCTIONS ---

        /**
         * Shuffles an array in place.
         * @param {Array} array The array to shuffle.
         * @returns {Array} The shuffled array.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // --- 6. EVENT LISTENERS ---
        
        // Start the quiz when the page loads
        document.addEventListener('DOMContentLoaded', startQuiz);
        
        // Go to next question when 'Next' is clicked
        nextBtn.addEventListener('click', handleNextQuestion);
        
        // Restart the quiz when 'Try Again' is clicked
        restartBtn.addEventListener('click', startQuiz);

    </script>
</body>
</html>


